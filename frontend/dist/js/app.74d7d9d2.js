(function(){"use strict";var e={4896:function(e,n,t){var r=t(5130),o=(t(4114),t(6768)),a=t(4232),i=t(144),u=t(4373),l=t(1451),s=t.n(l);const c={class:"app-container"},p={class:"chat-container"},v={key:0,class:"message-avatar"},f=["innerHTML"],d={key:1},y={key:0,class:"loading"},h={class:"input-wrapper"},k={class:"input-container"},g=["disabled"],b=["disabled"];var w={__name:"App",setup(e){const n=new(s())({html:!0,linkify:!0,typographer:!0,breaks:!0}),t=(0,i.KR)(""),l=(0,i.KR)([{content:"你好呀！很高兴为你服务，有什么可以帮你的吗？ 😊",type:"ai"}]),w=(0,i.KR)(!1),m=(0,i.KR)(null);function L(e){return n.render(e)}async function C(){const e=t.value.trim();if(e){l.value.push({content:e,type:"user"}),t.value="",w.value=!0;try{const n=await u.A.post("/api/ask",{question:e});l.value.push({content:n.data.answer,type:"ai"})}catch(n){console.error("Error:",n);let e="发生错误，请稍后再试";n.response&&n.response.data&&n.response.data.error&&(e="错误: "+n.response.data.error),l.value.push({content:e,type:"ai"})}finally{w.value=!1,await(0,o.dY)(),O()}}}function O(){m.value&&(m.value.scrollTop=m.value.scrollHeight)}return(e,n)=>((0,o.uX)(),(0,o.CE)("div",c,[n[4]||(n[4]=(0,o.Lk)("div",{class:"header"},[(0,o.Lk)("h1",null,"1R Helper")],-1)),(0,o.Lk)("div",p,[(0,o.Lk)("div",{class:"chat-messages",ref_key:"chatMessages",ref:m},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.value,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:(0,a.C4)(["message-wrapper",{"user-wrapper":"user"===e.type,"ai-wrapper":"ai"===e.type}])},["ai"===e.type?((0,o.uX)(),(0,o.CE)("div",v,n[1]||(n[1]=[(0,o.Lk)("div",{class:"ai-avatar"},"R",-1)]))):(0,o.Q3)("",!0),(0,o.Lk)("div",{class:(0,a.C4)(["message",e.type+"-message"])},["ai"===e.type?((0,o.uX)(),(0,o.CE)("div",{key:0,innerHTML:L(e.content)},null,8,f)):((0,o.uX)(),(0,o.CE)("div",d,(0,a.v_)(e.content),1))],2)],2)))),128))],512),w.value?((0,o.uX)(),(0,o.CE)("div",y,n[2]||(n[2]=[(0,o.Lk)("div",{class:"spinner"},null,-1),(0,o.Lk)("p",null,"正在思考中...",-1)]))):(0,o.Q3)("",!0),(0,o.Lk)("div",h,[(0,o.Lk)("div",k,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e),onKeyup:(0,r.jR)(C,["enter"]),placeholder:"请输入您的问题...",disabled:w.value},null,40,g),[[r.Jo,t.value]]),(0,o.Lk)("button",{onClick:C,disabled:w.value},n[3]||(n[3]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,o.Lk)("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),(0,o.Lk)("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})],-1)]),8,b)])])])]))}};const m=w;var L=m;(0,r.Ef)(L).mount("#app")}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={exports:{}};return e[r].call(a.exports,a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(n,r,o,a){if(!r){var i=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],a=e[c][2];for(var u=!0,l=0;l<r.length;l++)(!1&a||i>=a)&&Object.keys(t.O).every((function(e){return t.O[e](r[l])}))?r.splice(l--,1):(u=!1,a<i&&(i=a));if(u){e.splice(c--,1);var s=o();void 0!==s&&(n=s)}}return n}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,o,a]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(n){return 0===e[n]};var n=function(n,r){var o,a,i=r[0],u=r[1],l=r[2],s=0;if(i.some((function(n){return 0!==e[n]}))){for(o in u)t.o(u,o)&&(t.m[o]=u[o]);if(l)var c=l(t)}for(n&&n(r);s<i.length;s++)a=i[s],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(c)},r=self["webpackChunk_1r_helper"]=self["webpackChunk_1r_helper"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var r=t.O(void 0,[504],(function(){return t(4896)}));r=t.O(r)})();
//# sourceMappingURL=app.74d7d9d2.js.map